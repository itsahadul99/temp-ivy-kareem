{% schema %}
  {
    "name": "Animated Hero Banner",
    "tag": "section",
    "settings": [
      {
        "type": "image_picker",
        "id": "logo",
        "label": "Logo Image",
        "info": "Recommended size: 119x63px"
      },
      {
        "type": "url",
        "id": "logo_link",
        "label": "Logo Link",
        "info": "URL to redirect when logo is clicked"
      },
      {
        "type": "image_picker",
        "id": "hero_image",
        "label": "Hero Logo",
        "info": "Recommended size: 359x190px"
      },
      {
        "type": "text",
        "id": "title_line1",
        "label": "Title Line 1",
        "default": "Top Kitchen and Bath Designers"
      }, {
        "type": "text",
        "id": "title_line2",
        "label": "Title Line 2",
        "default": "in Orange Country"
      }, {
        "type": "textarea",
        "id": "description",
        "label": "Description",
        "default": "We Turn Spaces Into Stories. From Modern Elegance To Cozy Charm, Our Designs Blend Style And Function To Create Interiors."
      }, {
        "type": "text",
        "id": "button_text",
        "label": "Button Text",
        "default": "Explore Us"
      }, {
        "type": "url",
        "id": "button_link",
        "label": "Button Link"
      }, {
        "type": "image_picker",
        "id": "background_image1",
        "label": "Main Background Image",
        "info": "Desktop background image"
      }, {
        "type": "image_picker",
        "id": "background_image2",
        "label": "Secondary Background Image",
        "info": "Desktop background image for animation"
      }, {
        "type": "image_picker",
        "id": "tablet_background1",
        "label": "Tablet Background Image 1"
      }, {
        "type": "image_picker",
        "id": "tablet_background2",
        "label": "Tablet Background Image 2"
      }, {
        "type": "header",
        "content": "Navigation Settings"
      }, {
        "type": "link_list",
        "id": "menu",
        "label": "Select Menu",
        "info": "Choose which menu to display"
      }, {
        "type": "text",
        "id": "shop_button_text",
        "label": "Shop Button Text",
        "default": "Shop"
      }, {
        "type": "url",
        "id": "shop_button_link",
        "label": "Shop Button Link"
      }
    ],
    "presets": [
      {
        "name": "Animated Hero Banner",
        "category": "Custom Sections"
      }
    ]
  }
{% endschema %}

<style>
  /* Animation Styles */
  #background-container {
    {% if section.settings.background_image1 %}
      background-image: url('{{ section.settings.background_image1 | img_url: 'master' }}');
    {% else %}
      background-image: url('{{ 'Header_bg.png' | asset_url }}');
    {% endif %}
    background-size: cover;
    background-position: center;
    height: 750px;
    position: relative;
    animation: backgroundChange 5s infinite;
  }

  .animate-expand {
    position: absolute;
    width: 2px;
    background-color: #6CA082;
    min-height: 40px;
    overflow: hidden;
    animation: expandHeight 1s ease-in-out forwards;
  }

  /* Responsive Styles */
  @media (max-width: 768px) {
    .display-hidden {
      display: none;
    }
  }

  @media (min-width: 768px) and (max-width: 1023px) {
    #background-container {
      height: 1194px;
      {% if section.settings.tablet_background1 %}
        background-image: url('{{ section.settings.tablet_background1 | img_url: 'master' }}');
      {% else %}
        background-image: url('{{ 'Header_bg_tablet.png' | asset_url }}');
      {% endif %}
      position: relative;
    }

    .tab-class {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      position: absolute;
      bottom: 270px;
      width: 100%;
    }

    .tab-bg-title {
      display: block !important;
    }
    .tab-bg-des {
      display: block !important;
    }
  }

  /* Animation Keyframes */
  @keyframes expandHeight {
    0% {
      height: 0;
      bottom: 0;
      left: 47%;
    }
    100% {
      height: 45%;
      bottom: 0;
      left: 47%;
    }
  }

  @keyframes backgroundChange {
    0% {
      {% if section.settings.background_image1 %}
        background-image: url('{{ section.settings.background_image1 | img_url: 'master' }}');
      {% else %}
        background-image: url('{{ 'Header_bg.png' | asset_url }}');
      {% endif %}
    }
    50% {
      {% if section.settings.background_image2 %}
        background-image: url('{{ section.settings.background_image2 | img_url: 'master' }}');
      {% else %}
        background-image: url('{{ 'Header_bg2.png' | asset_url }}');
      {% endif %}
    }
    100% {
      {% if section.settings.background_image1 %}
        background-image: url('{{ section.settings.background_image1 | img_url: 'master' }}');
      {% else %}
        background-image: url('{{ 'Header_bg.png' | asset_url }}');
      {% endif %}
    }
  }

  @media (min-width: 769px) and (max-width: 1023px) {
  @keyframes backgroundChange {
    0% {
      {% if section.settings.tablet_background1 %}
        background-image: url('{{ section.settings.tablet_background1 | img_url: 'master' }}');
      {% else %}
        background-image: url('{{ 'Header_bg_tablet.png' | asset_url }}');
      {% endif %}
    }
    50% {
      {% if section.settings.tablet_background2 %}
        background-image: url('{{ section.settings.tablet_background2 | img_url: 'master' }}');
      {% else %}
        background-image: url('{{ 'Header_bg2_tablet.png' | asset_url }}');
      {% endif %}
    }
    100% {
      {% if section.settings.tablet_background1 %}
        background-image: url('{{ section.settings.tablet_background1 | img_url: 'master' }}');
      {% else %}
        background-image: url('{{ 'Header_bg_tablet.png' | asset_url }}');
      {% endif %}
    }
  }
}

/* Menu Styles */
.mobile-menu {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.9);
  z-index: 1000;
  padding-top: 80px;
}

.mobile-menu.active {
  display: block;
}

.menu-close-btn {
  position: absolute;
  top: 20px;
  right: 20px;
  color: white;
  font-size: 24px;
  background: none;
  border: none;
}

.desktop-menu a {
  transition: color 0.3s ease;
}

.desktop-menu a:hover {
  color: #6CA082;
}
</style>

<div id="background-container" class="relative h-[750px] bg-cover bg-center relative">
  <!-- Navbar -->
  <div class="relative flex items-center justify-between px-4 py-6 lg:px-[149.5px] lg:py-[44.5px] h-[129px]">
    <!-- Mobile Menu Button -->
    <div class="md:hidden">
      <button id="menu-btn" class="text-white text-2xl">☰</button>
    </div>

    <!-- Logo -->
    {% if section.settings.logo %}
      <a href="{{section.settings.logo_link}}">
          <img
            src="{{ section.settings.logo | img_url: 'master' }}"
            alt="{{ section.settings.logo.alt | escape }}"
            loading="lazy"
            width="119"
            height="63">
      </a>
      {% else %}
      <a href="/">
      <img
        src="{{ 'IVYKAREEM.png' | asset_url }}"
        alt="Logo"
        loading="lazy"
        width="119"
        height="63">
        </a>
    {% endif %}

    <!-- Desktop Navigation -->
    <nav class="display-hidden flex space-x-8 text-white text-sm font-medium desktop-menu">
      {% for link in linklists[section.settings.menu].links %}
        <a href="{{ link.url }}" class="hover:text-[#6CA082]">{{ link.title }}</a>
      {% endfor %}
    </nav>

    <!-- Shop Button -->
    <a href="{{ section.settings.shop_button_link }}" class="px-6 py-2 bg-transparent border border-white text-white rounded-lg hover:bg-green-500 hover:border-green-500 hover:text-black">
      {{ section.settings.shop_button_text }}
    </a>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="mobile-menu">
    <button class="menu-close-btn" id="menu-close">✕</button>
    <div class="flex flex-col items-center justify-center h-full space-y-8">
      {% for link in linklists[section.settings.menu].links %}
        <a href="{{ link.url }}" class="text-white text-2xl hover:text-[#6CA082]">{{ link.title }}</a>
      {% endfor %}
      <a href="{{ section.settings.shop_button_link }}" class="px-6 py-2 bg-transparent border border-white text-white rounded-lg hover:bg-green-500 hover:border-green-500 hover:text-black mt-4">
        {{ section.settings.shop_button_text }}
      </a>
    </div>
  </div>

  <!-- Hero Content -->
  <div class="tab-class lg:ms-[200px] justify-items-center">
    <div class="mt-[100px] h-[294px] lg:flex gap-4 px-10 2xl:ml-[100px] lg:mt-[240px]">
      <div class="lg:w-[539px] display-hidden justify-items-center lg:mr-[180px]">
        {% if section.settings.hero_image %}
          <img
            src="{{ section.settings.hero_image  | img_url: 'master'}}"
            alt="{{ section.settings.hero_image.alt | escape }}"
            loading="lazy"
            width="359"
            height="190">
            {% else %}
            <img
            src="{{ 'IVYKAREEM.png' | asset_url }}"
            alt="Hero Logo Img"
            loading="lazy"
            width="359"
            height="190">
        {% endif %}
      </div>

      <div class="w-[2px] display-hidden bg-white h-0 animate-expand"></div>

      <div class="lg:w-full pl-0 lg:pr-12">
        <!-- Title Variations -->
        <p class="text-[#6CA082] display-hidden text-[42px] text-center md:text-left font-bold italic break-words" style="font-family: 'Minion Pro'">
          {{ section.settings.title_line1 }}
        </p>
        <p class="text-[#6CA082] md:hidden text-[42px] text-center lg:text-left font-bold italic break-words md:whitespace-nowrap" style="font-family: 'Minion Pro'">
          {{ section.settings.title_line1 | replace: ' and ', '<br>' }}
        </p>
        <p class="text-[#6CA082] tab-bg-title hidden text-[42px] text-center lg:text-left font-bold italic break-words md:whitespace-nowrap" style="font-family: 'Minion Pro'">
          {{ section.settings.title_line1 | replace: ' Bath ', ' Bath<br>' }}
        </p>

        <p class="text-white text-[42px] font-bold text-center lg:text-left" style="font-family: 'Minion Pro'; font-weight: 700;">
          {{ section.settings.title_line2 }}
        </p>

        <!-- Description Variations -->
        <p class="w-full display-hidden max-w-[700px] text-[23px] text-white pr-1" style="font-family: Roboto; line-height: 1.5em; font-weight: 400;">
          {{ section.settings.description }}
        </p>
        <p class="w-full tab-bg-des hidden max-w-[568px] text-2xl text-white text-center mx-auto mt-3" style="font-family: Roboto; line-height: 1.5em; font-weight: 400;">
          {{ section.settings.description | replace: '. ', '.<br>' }}
        </p>
        <p class="w-full md:hidden max-w-[568px] text-2xl text-white text-center mx-auto" style="font-family: Roboto; line-height: 1.5em; font-weight: 400;">
          {{ section.settings.description | escape }}
        </p>

        <!-- CTA Button -->
        <div class="mt-[30px]">
          <a href="{{ section.settings.button_link }}" class="flex justify-center lg:justify-start gap-[16px] group hover:italic cursor-pointer">
            <button class="w-[40px] h-[40px] text-white rounded-full flex items-center justify-center border-white border-2 transition-all duration-500 ease-in-out group-hover:text-white group-hover:bg-[#6CA082] group-hover:border-[#6CA082]">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="2"
                stroke="currentColor"
                class="w-4 h-4">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M12 4.5v15m7.5-7.5h-15" />
              </svg>
            </button>
            <p class="text-white text-[28px] transition-all duration-500 ease-in-out group-hover:text-[#6CA082]" style="font-family: 'Minion Pro'">
              {{ section.settings.button_text }}
            </p>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
      // Mobile Menu Toggle
      document.addEventListener('DOMContentLoaded', function() {
        const menuBtn = document.getElementById('menu-btn');
        const menuClose = document.getElementById('menu-close');
        const mobileMenu = document.getElementById('mobile-menu');
    
        if (menuBtn && mobileMenu) {
          menuBtn.addEventListener('click', function() {
            mobileMenu.classList.add('active');
          });
        }
    
        if (menuClose && mobileMenu) {
          menuClose.addEventListener('click', function() {
            mobileMenu.classList.remove('active');
          });
        }
      });
</script>